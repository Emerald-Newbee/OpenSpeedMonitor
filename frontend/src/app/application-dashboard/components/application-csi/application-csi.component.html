<div class="card application-csi">
  <h2>{{ 'frontend.de.iteratec.osm.applicationDashboard.kpi.title' | translate }}</h2>
  <div class="csi">
    <ng-container>
      <osm-csi-value [csiValue]="(recentCsiValue$ | async)?.csiDocComplete" [csiDate]="recentCsiDate$ | async"
                     [showLoading]="isLoading" [isBig]="true"></osm-csi-value>

      <div *ngIf="!isLoading && !(csiValues$ | async)?.csiDtoList.length; then showInfo else showGraph"></div>

      <ng-template #showInfo>
        <osm-csi-info [csiData]="csiValues$ | async" [selectedApplication]="selectedApplication"></osm-csi-info>
      </ng-template>

      <ng-template #showGraph>
        <osm-csi-graph [csiData]="csiValues$ | async" [recentCsiData]="recentCsiValue$ | async"></osm-csi-graph>
      </ng-template>

    </ng-container>
  </div>
</div>
